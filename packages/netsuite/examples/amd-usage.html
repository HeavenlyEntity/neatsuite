<!DOCTYPE html>
<html>
<head>
    <title>NetSuite HTTP Client - AMD/RequireJS Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
</head>
<body>
    <h1>NetSuite HTTP Client - AMD Example</h1>
    <div id="output"></div>

    <script>
        // Configure RequireJS
        require.config({
            paths: {
                // Point to the UMD build of @neatsuite/http
                'netsuite-http': './node_modules/@neatsuite/http/dist/index.umd',
                // Or from a CDN:
                // 'netsuite-http': 'https://unpkg.com/@neatsuite/http@latest/dist/index.umd'
            }
        });

        // Use the module with AMD/RequireJS
        require(['netsuite-http'], function(neatHttp) {
            const { NetSuiteClient, NetSuiteError } = neatHttp;
            
            // Initialize the client
            const client = new NetSuiteClient({
                oauth: {
                    consumerKey: 'your-consumer-key',
                    consumerSecret: 'your-consumer-secret',
                    tokenKey: 'your-token-key',
                    tokenSecret: 'your-token-secret',
                    realm: 'your-realm'
                },
                accountId: 'your-account-id'
            });

            // Example usage
            async function makeRequest() {
                try {
                    const response = await client.restlet({
                        script: '123',
                        deploy: '1',
                        params: { action: 'test' }
                    });
                    
                    document.getElementById('output').innerHTML = 
                        '<pre>' + JSON.stringify(response.data, null, 2) + '</pre>';
                } catch (error) {
                    if (NetSuiteClient.isNetSuiteError(error)) {
                        document.getElementById('output').innerHTML = 
                            '<p style="color: red;">NetSuite Error: ' + error.message + '</p>';
                    } else {
                        document.getElementById('output').innerHTML = 
                            '<p style="color: red;">Error: ' + error.message + '</p>';
                    }
                }
            }

            // Add a button to test the functionality
            const button = document.createElement('button');
            button.textContent = 'Test NetSuite API Call';
            button.onclick = makeRequest;
            document.body.appendChild(button);
        });
    </script>
</body>
</html> 